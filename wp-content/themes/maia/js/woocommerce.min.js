"use strict";const ADDED_TO_CART_EVENT="added_to_cart",PRODUCT_LIST_AJAX_SHOP_PAGE="maia_products_list_ajax",PRODUCT_GRID_AJAX_SHOP_PAGE="maia_products_grid_ajax";class AjaxCart{constructor(){if("undefined"!=typeof maia_settings){let t=this;switch(t.ajaxCartPosition=maia_settings.cart_position,t.ajaxCartPosition){case"popup":t._initAjaxPopup();break;case"left":t._initAjaxCartOffCanvas("left");break;case"right":t._initAjaxCartOffCanvas("right")}t._initEventRemoveProduct(),t._initEventMiniCartAjaxQuantity()}}_initAjaxPopupContent(t){var a=this;if(!(t.closest("form.cart").find('input[name="maia_buy_now"]').length>0&&"1"===t.closest("form.cart").find('input[name="maia_buy_now"]').val())){let i="";if(t.closest("form.cart").length>0){let n=t.closest("form.cart"),o=$(n).find('input[name="variation_id"]').length?parseInt($(n).find('input[name="variation_id"]').val()):0;if(0===$(n).find('input[name="data-type"]').length)return;if(0!==o){var e=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_popup_variation_name");i=a._initAjaxPopupVariationName(o,e)}else i=t.closest(".product").find(".product_title").html()}else i=t.closest(".product").find(".name  a").html();void 0!==i&&a._initAjaxPopupShow(i)}}_initAjaxPopupShow(t){let a=$("#tbay-cart-popup"),e=$("#tbay-cart-popup").find(".toast-body"),i=maia_settings.popup_cart_noti,n="";n+=maia_settings.popup_cart_icon,n+=`<p>"${t}" ${i}</p>`,wc_add_to_cart_params.is_cart||(n+=`<a href="${wc_add_to_cart_params.cart_url}" title="${wc_add_to_cart_params.i18n_view_cart}">${wc_add_to_cart_params.i18n_view_cart}</a>`),void 0!==n&&e.html(n),a.toast("show")}_initAjaxPopupVariationName(t,a){var e=this;$.ajax({url:a,data:{variation_id:t,security:maia_settings.wp_popupvariationnamenonce},dataType:"json",method:"POST",success:function(t){e._initAjaxPopupShow(t)}})}_initAjaxPopup(){var t=this;if("undefined"==typeof wc_add_to_cart_params)return!1;maia_settings.ajax_popup_quick?jQuery(`.ajax_cart_popup`).on("click",".ajax_add_to_cart, .single_add_to_cart_button",function(a){let e=$(this);e.parent().hasClass("shop-now")&&!e.parent().hasClass("ajax-single-cart")||t._initAjaxPopupContent(e)}):jQuery(`.ajax_cart_popup, .single_add_to_cart_button`).on("added_to_cart",function(a,e,i,n){void 0===e&&(e=JSON.parse(sessionStorage.getItem(wc_cart_fragments_params.fragment_name))),t._initAjaxPopupContent(n)})}_initAjaxCartOffCanvas(t){jQuery(`.ajax_cart_${t}`).on("added_to_cart",function(){maia_settings.mobile&&(t="mobile"),new bootstrap.Offcanvas(`#cart-offcanvas-${t}`).show(),$(document.body).trigger("wc_fragments_refreshed"),jQuery.magnificPopup.close()})}_initEventRemoveProduct(){if("undefined"==typeof wc_add_to_cart_params)return!1;$(document).on("click",".mini_cart_content a.remove",t=>{this._onclickRemoveProduct(t)})}_onclickRemoveProduct(t){t.preventDefault();var a=$(t.currentTarget).attr("data-product_id"),e=$(t.currentTarget).attr("data-cart_item_key"),i=$(t.currentTarget).closest(".widget_shopping_cart_content");this._callRemoveProductAjax(a,e,i,t)}_callRemoveProductAjax(t,a,e,i){var n=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_product_remove");$.ajax({type:"POST",dataType:"json",url:n,data:{product_id:t,cart_item_key:a,security:maia_settings.wp_productremovenonce},beforeSend:function(){e.find(".mini_cart_content").append('<div class="ajax-loader-wapper"><div class="ajax-loader"></div></div>').fadeTo("slow",.3)},success:a=>{this._onRemoveSuccess(a,t);$(document.body).trigger("removed_from_cart")}})}_onRemoveSuccess(t,a){if(t&&!t.error){var e=t.fragments;e&&$.each(e,function(t,a){$(t).replaceWith(a)}),$('.add_to_cart_button.added[data-product_id="'+a+'"]').removeClass("added").next(".wc-forward").remove()}}_initEventMiniCartAjaxQuantity(){$("body").on("change",".mini-cart-item .qty",function(){var t=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_quantity_mini_cart"),a=$(this),e=$(a).parents(".mini_cart_content"),i=$(a).attr("name").replace(/cart\[([\w]+)\]\[qty\]/g,"$1"),n=parseFloat($(a).attr("max"));n||(n=!1);var o=parseFloat($(a).val());n>0&&o>n&&($(a).val(n),o=n),$.ajax({url:t,type:"POST",dataType:"json",cache:!1,data:{hash:i,quantity:o,security:maia_settings.wp_minicartquantitynonce},beforeSend:function(){e.append('<div class="ajax-loader-wapper"><div class="ajax-loader"></div></div>').fadeTo("slow",.3)},success:function(t){t&&t.fragments&&($.each(t.fragments,function(t,a){$(t).length&&$(t).replaceWith(a)}),"undefined"!=typeof $supports_html5_storage&&$supports_html5_storage&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(t.fragments)),set_cart_hash(t.cart_hash),t.cart_hash&&set_cart_creation_timestamp()),$(document.body).trigger("wc_fragments_refreshed"))}})})}}class WishList{constructor(){this._onChangeWishListItem()}_onChangeWishListItem(){jQuery(document).on("added_to_wishlist removed_from_wishlist",()=>{var t=jQuery(".count_wishlist").find("> span");if(0===t.length)return;var a=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_update_wishlist_count");$.ajax({url:a,type:"POST",data:{security:maia_settings.wp_wishlistcountnonce},dataType:"json",success:function(a){t.html(a.count)},beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff url("+maia_settings.loader+") no-repeat center",opacity:.5,cursor:"none"}})},complete:function(){t.unblock()}})})}}class ProductItem{_initAddButtonQuantity(){$(".quantity input").each(function(){$(this).parent(".box").length||($(this).wrap('<span class="box"></span>'),$(`<button class="minus" type="button" value="&nbsp;">${maia_settings.quantity_minus}</button>`).insertBefore($(this)),$(`<button class="plus" type="button" value="&nbsp;">${maia_settings.quantity_plus}</button>`).insertAfter($(this)))})}_initOnChangeQuantity(t){"undefined"!=typeof maia_settings&&(this._initAddButtonQuantity(),$(document).off("click",".plus, .minus").on("click",".plus, .minus",function(a){a.preventDefault();var e=jQuery(this).closest(".quantity").find(".qty"),i=parseFloat(e.val()),n=$(e).attr("max"),o=$(e).attr("min"),r=$(e).attr("step");i=i&&""!==i&&"NaN"!==i?i:0,n=""===n||"NaN"===n?"":n,o=""===o||"NaN"===o?0:o,r="any"===r||""===r||void 0===r||NaN===parseFloat(r)?1:r,$(this).is(".plus")?n&&(n==i||i>n)?e.val(n):e.val(i+parseFloat(r)):o&&(o==i||i<o)?e.val(o):i>1&&e.val(i-parseFloat(r)),t&&"function"==typeof t&&($(this).parent().find("input").trigger("change"),t())}))}_initSwatches(){0!==$(".tbay-swatches-wrapper li a").length&&$("body").on("click",".tbay-swatches-wrapper li a",function(t){t.preventDefault();let a=!1,e=$(this).closest(".product-block");var i=e.find(".image img:eq(0)");$(this).closest("ul").hasClass("active")||($(this).closest("ul").addClass("active"),i.attr("data-old",i.attr("src"))),$(this).hasClass("selected")?(i.attr("src",i.data("old")),$(this).removeClass("selected"),e.removeClass("product-swatched")):($(this).closest("ul").find("li a").each(function(){$(this).hasClass("selected")&&$(this).removeClass("selected")}),$(this).addClass("selected"),e.addClass("product-swatched"),a=!0),a&&(void 0!==$(this).data("imageSrc")&&i.attr("src",$(this).data("imageSrc")),void 0!==$(this).data("imageSrcset")&&i.attr("srcset",$(this).data("imageSrcset")),void 0!==$(this).data("imageSizes")&&i.attr("sizes",$(this).data("imageSizes")))})}_initQuantityMode(){"undefined"!=typeof maia_settings&&maia_settings.quantity_mode&&($(".woocommerce .products").on("click",".quantity .qty",function(){return!1}),$(".woocommerce .products").on("change input",".quantity .qty",function(){$(this).parents(".product").find(".add_to_cart_button").attr("data-quantity",$(this).val())}),$(".woocommerce .products").on("keypress",".quantity .qty",function(t){13===(t.which||t.keyCode)&&$(this).parents(".product").find(".add_to_cart_button").trigger("click")}))}}class Cart{constructor(){this._initEventChangeQuantity(),this._init_shipping_free_notification(),$(document.body).on("updated_wc_div",()=>{this._initEventChangeQuantity();"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form()})}),$(document.body).on("cart_page_refreshed",()=>{this._initEventChangeQuantity()}),$(document.body).on("tbay_display_mode",()=>{this._initEventChangeQuantity()})}_initEventChangeQuantity(){0===$("body.woocommerce-cart [name='update_cart']").length?(new ProductItem)._initOnChangeQuantity(()=>{}):(new ProductItem)._initOnChangeQuantity(()=>{$('.woocommerce-cart-form :input[name="update_cart"]').prop("disabled",!1);"undefined"!=typeof maia_settings&&maia_settings.ajax_update_quantity&&$("[name='update_cart']").trigger("click")})}_init_shipping_free_notification(){jQuery(".tbay-total-condition").length>0&&jQuery(".tbay-total-condition").each(function(){if(!jQuery(this).hasClass("tbay-active")){jQuery(this).addClass("tbay-active");var t=jQuery(this).attr("data-per");jQuery(this).find(".tbay-total-condition-hint, .tbay-subtotal-condition").css({width:t+"%"})}})}}class Checkout{constructor(){this._toogleWoocommerceIcon()}_toogleWoocommerceIcon(){$(".woocommerce-info a").length<1||$(".woocommerce-info a").click(function(){$(this).find(".icons").toggleClass("icon-arrow-down").toggleClass("icon-arrow-up")})}}class WooCommon{constructor(){this._tbayFixRemove(),$(document.body).on("tbayFixRemove",()=>{this._tbayFixRemove()})}_tbayFixRemove(){$(".tbay-gallery-varible .woocommerce-product-gallery__trigger").remove()}}class QuickView{constructor(){"undefined"!=typeof maia_settings&&this._init_tbay_quick_view()}_init_tbay_quick_view(){var t=this;$(document).off("click","a.qview-button").on("click","a.qview-button",function(a){a.preventDefault();let e=$(this);e.parent().addClass("loading");let i=e.attr("data-effect"),n=!1,o=$(this).data("product_id"),r=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_quickview_product")+"&product_id="+o;void 0!==maia_settings.loader&&(n=!0,e.block({message:null,overlayCSS:{background:"#fff url("+maia_settings.loader+") no-repeat center",opacity:.5,cursor:"none"}})),t._ajax_call(e,r,n,i),a.stopPropagation()})}_ajax_call(t,a,e,i){$.get(a,function(a,n){$.magnificPopup.open({removalDelay:0,closeMarkup:'<button title="%title%" type="button" class="mfp-close"> '+maia_settings.close+"</button>",callbacks:{beforeOpen:function(){this.st.mainClass=i+" maia-quickview"}},items:{src:a,type:"inline"}});let o=$("#tbay-quick-view-content"),r=o.find(".variations_form");"undefined"!=typeof wc_add_to_cart_variation_params&&r.each(function(){$(this).wc_variation_form()}),"undefined"!=typeof wc_single_product_params&&o.find(".woocommerce-product-gallery").each(function(){$(this).wc_product_gallery(wc_single_product_params)}),$(document.body).trigger("updated_wc_div"),t.parent().removeClass("loading"),e&&t.unblock(),$(document.body).trigger("tbay_quick_view")})}}class StickyBar{constructor(){void 0!==jQuery.fn.onePageNav&&this._productSingleOnepagenav()}_productSingleOnepagenav(){if($("#sticky-menu-bar").length>0){let t=0;$("#wpadminbar").length>0&&(t=$("#wpadminbar").outerHeight());let a=$("#sticky-menu-bar").outerHeight()+t;$("#sticky-menu-bar").onePageNav({currentClass:"current",changeHash:!1,scrollSpeed:750,scrollThreshold:.5,scrollOffset:a,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(){}})}var t=$("#sticky-menu-bar");if(t.length>0){var a=$(window).width();$(".tbay_header-template").removeClass("main-sticky-header");var e=$(".single_add_to_cart_button").length>0?$(".single_add_to_cart_button").offset().top:0,i=$("div.product .out-of-stock").length>0?$("div.product .out-of-stock").offset().top:0;$(".by-vendor-name-link").length>0&&(i=$(".by-vendor-name-link").offset().top);var n=$(".single_add_to_cart_button").length>0?e:i;this._checkScroll(a,n,t),$(window).scroll(()=>{this._checkScroll(a,n,t)})}t.hasClass("active")&&jQuery("#wpadminbar").length>0&&t.css("top",$("#wpadminbar").height())}_checkScroll(t,a,e){t>=768&&$(window).scrollTop()>a?(e.addClass("active"),jQuery("#wpadminbar").length>0&&e.css("top",$("#wpadminbar").height())):e.removeClass("active")}}class DisplayMode{constructor(){"undefined"!=typeof maia_settings&&(this._initModeListShopPage(),this._initModeGridShopPage(),$(document.body).on("displayMode",()=>{this._initModeListShopPage();this._initModeGridShopPage()}))}_initModeListShopPage(){$("#display-mode-list").each(function(t){$(this).click(function(){if(!$(this).hasClass("active")){var t=$(this),a=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_products_list_ajax");return $.ajax({url:a,data:{query:maia_settings.posts,security:maia_settings.wp_productslistnonce},dataType:"json",method:"POST",beforeSend:function(a){t.closest("#tbay-main-content").find(".display-products").addClass("load-ajax")},success:function(a){a&&(t.parent().children().removeClass("active"),t.addClass("active"),t.closest("#tbay-main-content").find(".display-products > div").html(a),t.closest("#tbay-main-content").find(".display-products").fadeOut(0,function(){$(this).addClass("products-list").removeClass("products-grid grid").fadeIn(300)}),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),$(document.body).trigger("tbay_display_mode"),t.closest("#tbay-main-content").find(".display-products").removeClass("load-ajax"),Cookies.set("maia_display_mode","list",{expires:.1,path:"/"}))}}),!1}})})}_initModeGridShopPage(){$("#display-mode-grid").each(function(t){$(this).click(function(){if(!$(this).hasClass("active")){var t=$(this),a=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_products_grid_ajax");t.closest("#tbay-main-content").find("div.display-products");return $.ajax({url:a,data:{query:maia_settings.posts,security:maia_settings.wp_productsgridnonce},dataType:"json",method:"POST",beforeSend:function(a){t.closest("#tbay-main-content").find(".display-products").addClass("load-ajax")},success:function(a){if(a){t.parent().children().removeClass("active"),t.addClass("active"),t.closest("#tbay-main-content").find(".display-products > div").html(a);let e=t.closest("#tbay-main-content").find("div.display-products");e.fadeOut(0,function(){$(this).addClass("products-grid").removeClass("products-list").fadeIn(300)}),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),$(document.body).trigger("tbay_display_mode"),t.closest("#tbay-main-content").find(".display-products").removeClass("load-ajax"),Cookies.set("maia_display_mode","grid",{expires:.1,path:"/"})}}}),!1}})})}}class AjaxFilter{constructor(){this._intAjaxFilter()}_intAjaxFilter(){function t(t){jQuery(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),jQuery(document.body).trigger("tbayFixRemove"),jQuery(document.body).trigger("displayMode"),jQuery(document.body).trigger("ajax_sidebar_shop_mobile"),$("body").hasClass("filter-mobile-active")&&$("body").removeClass("filter-mobile-active"),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()})}jQuery(document).on("woof_ajax_done",t)}}class ShopProduct{constructor(){var t=this;t._SidebarShopMobile(),$(document.body).on("ajax_sidebar_shop_mobile",()=>{t._SidebarShopMobile();$(".filter-btn-wrapper").removeClass("active");$("body").removeClass("filter-mobile-active")})}_SidebarShopMobile(){let t=$("#button-filter-btn"),a=$("#filter-close,.close-side-widget");t.on("click",function(t){$(".filter-btn-wrapper").addClass("active"),$("body").addClass("filter-mobile-active")}),a.on("click",function(t){$(".filter-btn-wrapper").removeClass("active"),$("body").removeClass("filter-mobile-active")})}}class SingleProduct{constructor(){var t=this;t._intStickyMenuBar(),t._intNavImage(),t._intReviewPopup(),t._intShareMobile(),t._intTabsMobile(),t._initBuyNow(),t._initChangeImageVarible(),t._initOpenAttributeMobile(),t._initCloseAttributeMobile(),t._initCloseAttributeMobileWrapper(),t._initAddToCartClickMobile(),t._initBuyNowwClickMobile(),t._initAjaxSingleCart(),jQuery(document.body).on("tbay_quick_view",()=>{t._initBuyNow();t._initAjaxSingleCart()})}_intStickyMenuBar(){0!==jQuery("#sticky-custom-add-to-cart").length&&$("body").on("click","#sticky-custom-add-to-cart",function(t){$("#shop-now .single_add_to_cart_button").click(),t.stopPropagation()})}_intNavImage(){$(window).scroll(function(){let t=$(this).scrollTop()>400;$(".product-nav").toggleClass("active",t)})}_intReviewPopup(){if(0!==$("#list-review-images").length){var t=[];$("#list-review-images").find(".review-item").each(function(){var a=$(this).find(".review-link"),e={src:a.attr("href"),w:a.data("width"),h:a.data("height"),title:a.children(".caption").html()};t.push(e)}),$("#list-review-images > ul> li a").off("click").on("click",function(a){a.preventDefault();var e=$(".pswp")[0],i={index:$(this).parents(".review-item").index(),showHideOpacity:!0,closeOnVerticalDrag:!1,mainClass:"pswp-review-images"};new PhotoSwipe(e,PhotoSwipeUI_Default,t,i).init(),a.stopPropagation()})}}_intShareMobile(){let t=$(".woo-share-mobile"),a=$(".image-mains .show-mobile .woo-share-mobile .share-content .share-header .share-close i");t.find("button").click(function(){$(event.target).parents(".woo-share-mobile").toggleClass("open"),$("body").toggleClass("overflow-y")});let e=$(window),i=$(".woo-share-mobile button, .woo-share-mobile button i, .woo-share-mobile .content, .woo-share-mobile .share-title, .woo-share-mobile .share-close");e.on("click.Bst",function(a){t.hasClass("open")&&(0!=i.has(a.target).length||i.is(a.target)||(t.removeClass("open"),$("body").removeClass("overflow-y")))}),a.on("click",function(){t.removeClass("open"),$("body").removeClass("overflow-y")})}_intTabsMobile(){let t=$(".woocommerce-tabs-sidebar"),a=t.find(".tabs-sidebar a"),e=t.find(".close-tab, #tab-sidebar-close"),i=$("body"),n=$(".tabs-sidebar"),o=window.matchMedia("(max-width: 1199px)");0!==t.length&&(a.on("click",function(a){a.preventDefault();let e=$(this).data("tabid");n.addClass("open"),t.find(".wc-tab-sidebar").removeClass("open"),$("#"+e).addClass("open"),o.matches&&i.addClass("overflow-y")}),e.on("click",function(t){t.preventDefault(),n.removeClass("open"),$(this).closest(".woocommerce-tabs-sidebar").find(".wc-tab-sidebar").removeClass("open"),o.matches&&i.removeClass("overflow-y")}))}_initBuyNow(){0!==$(".tbay-buy-now").length&&($("body").on("click",".tbay-buy-now",function(t){t.preventDefault();let a=$(this).closest("form.cart"),e=a.find('[type="submit"]'),i=a.find('input[name="maia_buy_now"]');e.is(".disabled")?e.trigger("click"):(i.val("1"),a.find(".single_add_to_cart_button").trigger("click"))}),$(document.body).on("check_variations",function(){$("form.variations_form").find(".single_add_to_cart_button").each(function(t){$(this).is(".disabled")?$(this).parent().find(".tbay-buy-now").addClass("disabled"):$(this).parent().find(".tbay-buy-now").removeClass("disabled")})}))}_initFeatureVideo(){if("undefined"!=typeof maia_settings){let t=$(document).find(maia_settings.img_class_container+".tbay_featured_content");if(0!==t.length){let a=t.index(),e=$(maia_settings.thumbnail_gallery_class_element).get(a);$(e).addClass("tbay_featured_thumbnail")}}}_initChangeImageVarible(){let t=$(".information form.variations_form");0!==t.length&&(t.on("change",function(){var a=$(this),e=[];a.find(".variations tr").each(function(){void 0!==$(this).find("select").val()&&e.push($(this).find("select option:selected").text())}),a.parent().find(".mobile-attribute-list .value").empty().append(e.join("/ ")),t.find(".single_variation_wrap .single_variation").is(":empty")?t.find(".mobile-infor-wrapper .infor-body").empty().append(t.parent().children(".price").html()).wrapInner('<p class="price"></p>'):t.find(".single_variation_wrap .single_variation .woocommerce-variation-price").is(":empty")?(t.find(".mobile-infor-wrapper .infor-body").empty().append(t.find(".single_variation_wrap .single_variation").html()),t.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-price").empty().append(t.parent().children(".price").html()).wrapInner('<p class="price"></p>')):t.find(".mobile-infor-wrapper .infor-body").empty().append(t.find(".single_variation_wrap .single_variation").html())}),setTimeout(function(){jQuery(document.body).on("reset_data",()=>{t.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-availability").empty();t.find(".mobile-infor-wrapper .infor-body").empty().append(t.parent().children(".price").html()).wrapInner('<p class="price"></p>');return}),jQuery(document.body).on("woocommerce_gallery_init_zoom",()=>{let t=$(".flex-control-thumbs").find(".flex-active").attr("src");$(".mobile-infor-wrapper img").attr("src",t)}),jQuery(document.body).on("mobile_attribute_open",()=>{t.find(".single_variation_wrap .single_variation").is(":empty")?t.find(".mobile-infor-wrapper .infor-body").empty().append(t.parent().children(".price").html()):t.find(".single_variation_wrap .single_variation .woocommerce-variation-price").is(":empty")?(t.find(".mobile-infor-wrapper .infor-body").empty().append(t.find(".single_variation_wrap .single_variation").html()),t.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-price").empty().append(t.parent().children(".price").html()).wrapInner('<p class="price"></p>')):t.find(".mobile-infor-wrapper .infor-body").empty().append(t.find(".single_variation_wrap .single_variation").html())})},1e3))}_initOpenAttributeMobile(){let t=$("#attribute-open");0!==t.length&&t.off().on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-all")})}_initAddToCartClickMobile(){let t=$("#tbay-click-addtocart");0!==t.length&&t.off().on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-addtocart")})}_initBuyNowwClickMobile(){let t=$("#tbay-click-buy-now");0!==t.length&&t.off().on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-buynow")})}_initCloseAttributeMobile(){let t=$("#mobile-close-infor");0!==t.length&&t.off().on("click",function(){$(this).parents("form.cart").removeClass("open"),$(this).parents("form.cart").hasClass("open-btn-all")&&$(this).parents("form.cart").removeClass("open-btn-all"),$(this).parents("form.cart").hasClass("open-btn-buynow")&&$(this).parents("form.cart").removeClass("open-btn-buynow"),$(this).parents("form.cart").hasClass("open-btn-addtocart")&&$(this).parents("form.cart").removeClass("open-btn-addtocart")})}_initCloseAttributeMobileWrapper(){let t=$("#mobile-close-infor-wrapper");0!==t.length&&t.off().on("click",function(){$(this).parent().find("form.cart").removeClass("open"),$(this).parent().find("form.cart").hasClass("open-btn-all")&&$(this).parent().find("form.cart").removeClass("open-btn-all"),$(this).parent().find("form.cart").hasClass("open-btn-buynow")&&$(this).parent().find("form.cart").removeClass("open-btn-buynow"),$(this).parent().find("form.cart").hasClass("open-btn-addtocart")&&$(this).parent().find("form.cart").removeClass("open-btn-addtocart")})}_initAjaxSingleCart(){var t=this;$("#shop-now").length>0&&!$("#shop-now").hasClass("ajax-single-cart")||$("body").on("click","form.cart .single_add_to_cart_button",function(){if(!($(this).closest("form.cart").find('input[name="maia_buy_now"]').length>0&&"1"===$(this).closest("form.cart").find('input[name="maia_buy_now"]').val())){var a=!0,e=$(this),i=$(e).parents("form.cart");$("body").trigger("maia_before_click_single_add_to_cart",[i]);let n=$(i).find('input[name="maia-enable-addtocart-ajax"]');if($(n).length<=0||"1"!==$(n).val())return void(a=!1);{let n=!(!$(e).hasClass("disabled")&&!$(e).hasClass("maia-ct-disabled")),o=!n&&$(i).find('input[name="data-product_id"]').val();if(o&&!$(e).hasClass("loading")){let n=$(i).find('input[name="data-type"]').val(),r=$(i).find('.quantity input[name="quantity"]').val(),s=$(i).find('input[name="variation_id"]').length?parseInt($(i).find('input[name="variation_id"]').val()):0,c={};if("variable"===n&&!s)return a=!1,!1;s>0&&$(i).find(".variations").length&&$(i).find(".variations").find("select").each(function(){c[$(this).attr("name")]=$(this).val()}),a&&t._callAjaxSingleCart(e,o,r,n,s,c)}return!1}}})}_callAjaxSingleCart(t,a,e,i,n,o){var r=$(t).parents("form.cart");if("grouped"!==i){if("undefined"!=typeof maia_settings&&void 0!==maia_settings.wc_ajax_url){var s=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_single_add_to_cart"),c={product_id:a,quantity:e,product_type:i,variation_id:n,variation:o};$(r).length>0&&("simple"===i&&$(r).find(".maia-custom-fields").append('<input type="hidden" name="add-to-cart" value="'+a+'" />'),c=$(r).serializeArray(),$(r).find('.maia-custom-fields [name="add-to-cart"]').remove()),$.ajax({url:s,type:"post",dataType:"json",cache:!1,data:c,beforeSend:function(){$(t).removeClass("added"),$(t).removeClass("maia-added"),$(t).addClass("loading")},success:function(a){if(a.error)$(t).removeClass("loading");else if(void 0!==a.redirect&&a.redirect)window.location.href=a.redirect;else{var e=a.fragments;e&&($.each(e,function(t,a){$(t).addClass("updating"),$(t).replaceWith(a)}),$(t).hasClass("added")||$(t).addClass("added"),$(t).hasClass("maia-added")||$(t).addClass("maia-added")),$(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,t])}}})}return!1}}}class ProductTabs{constructor(){"undefined"!=typeof maia_settings&&this._initProductTabs()}_initProductTabs(){var t=!1;$(".tbay-element-product-tabs.ajax-active").each(function(){$(this).find(".product-tabs-title li a").off("click").on("click",function(a){a.preventDefault();var e=$(this),i=e.parent().parent().data("atts"),n=e.data("value"),o=e.attr("data-bs-target");e.index();if(!t&&!$(o).hasClass("active-content")){t=!0;var r=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_products_tab_shortcode");$.ajax({url:r,data:{atts:i,value:n,security:maia_settings.wp_productstabnonce},dataType:"json",method:"POST",beforeSend:function(t){$(o).parent().addClass("load-ajax")},success:function(t){!0===t.success?($(o).html(t.data.html),$(o).parent().find(".current").removeClass("current"),$(o).parent().removeClass("load-ajax"),$(o).addClass("active-content"),$(o).addClass("current"),$(document.body).trigger("tbay_carousel_slick"),$(document.body).trigger("tbay_ajax_tabs_products")):console.log("loading html products tab ajax returns wrong data")},error:function(){console.log("ajax error")},complete:function(){t=!1}})}})})}}class ProductCategoriesTabs{constructor(){"undefined"!=typeof maia_settings&&this._initProductCategoriesTabs()}_initProductCategoriesTabs(){var t=!1;$(".tbay-element-product-categories-tabs.ajax-active").each(function(){$(this).find(".product-categories-tabs-title li a").off("click").on("click",function(a){a.preventDefault();var e=$(this),i=e.parent().parent().data("atts"),n=e.data("value"),o=e.attr("data-bs-target");e.index();if(!t&&!$(o).hasClass("active-content")){t=!0;var r=maia_settings.wc_ajax_url.toString().replace("%%endpoint%%","maia_products_categories_tab_shortcode");$.ajax({url:r,data:{atts:i,value:n,security:maia_settings.wp_productscategoriestabnonce},dataType:"json",method:"POST",beforeSend:function(t){$(o).parent().addClass("load-ajax")},success:function(t){!0===t.success?($(o).html(t.data.html),$(o).parent().find(".current").removeClass("current"),$(o).parent().removeClass("load-ajax"),$(o).addClass("active-content"),$(o).addClass("current"),$(document.body).trigger("tbay_carousel_slick"),$(document.body).trigger("tbay_ajax_tabs_products")):console.log("loading html products categories tab ajax returns wrong data")},error:function(){console.log("ajax error")},complete:function(){t=!1}})}})})}}jQuery(document).ready(()=>{var t=new ProductItem;t._initSwatches();t._initQuantityMode();jQuery(document.body).trigger("tawcvs_initialized");new AjaxCart,new WishList,new Cart,new Checkout,new WooCommon,new QuickView,new StickyBar,new DisplayMode,new ShopProduct,new AjaxFilter,new SingleProduct,new ProductTabs,new ProductCategoriesTabs}),setTimeout(function(){jQuery(document.body).on("wc_fragments_refreshed wc_fragments_loaded removed_from_cart",function(){(new ProductItem)._initAddButtonQuantity(),(new Cart)._init_shipping_free_notification()})},30),jQuery(document).ready(function(t){(new SingleProduct)._initFeatureVideo()});var AddButtonQuantity=function(t,a){(new ProductItem)._initAddButtonQuantity()};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&"undefined"!=typeof maia_settings&&Array.isArray(maia_settings.elements_ready.products)&&jQuery.each(maia_settings.elements_ready.products,function(t,a){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-"+a+".default",AddButtonQuantity)})});var AjaxProductTabs=function(t,a){new ProductTabs,new ProductCategoriesTabs};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&"undefined"!=typeof maia_settings&&elementorFrontend.isEditMode()&&Array.isArray(maia_settings.elements_ready.ajax_tabs)&&jQuery.each(maia_settings.elements_ready.ajax_tabs,function(t,a){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-"+a+".default",AjaxProductTabs)})});
